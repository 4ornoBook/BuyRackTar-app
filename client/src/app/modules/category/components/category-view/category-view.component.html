

<tui-loader
	*tuiLet="category$ | async as category"
	[showLoader]="!category"
>
	<div class="category-info" [class.tui-skeleton]="!category">
		<div class="category-name-description">
			<div class="category-name">
				<h3 class="tui-text_h3">{{ category?.name }}</h3>
				<app-divider [height]="2"></app-divider>
			</div>

			<p>{{ category?.description }}</p>
		</div>


		<div class="spendings-circle">
			<tui-arc-chart
				*tuiLet="getCategoryTotalSpendings(category?.transactions || []) as totalSpendings"
				size="xl"
				minLabel="0"
				[maxLabel]="category?.limit?.toString() || '100%'"
				[value]="[totalSpendings / (category?.limit || 1) * 100]"
			>
				{{ totalSpendings }}
				<div>Spendings</div>
			</tui-arc-chart>
		</div>
	</div>

</tui-loader>
